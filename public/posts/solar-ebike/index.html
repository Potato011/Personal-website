<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Solar Ebike | Robin Wang</title>
<meta name=keywords content><meta name=description content="350 watts of light weight solar panels on a custom frame fixed to a trailer providing a significant boost to ebike range and allowing remote drone flying
Table of Contents Overview Shortcomings Initial Specifications Hardware Plan Electrical Enclosure Test Fit Electrical Enclosure CAD Models Electrical Enclosure Complted Hub Motor Modifications Suspension Fork Electrical Plan Simplified Electrical Layout Detailed Electrical Layout Fault Detection Electrical Wiring Finished Build Solar Panels Trailer Circuitry Testing Regen Braking Test Method Solar Trailer Test Method Testing Conclusion Conclusion Gallery Overview This vehicle is a continuation of my E-Cargo bike project and represents a major overhaul of the bike&rsquo;s electrical system in addition to hardware modifications to accomodate solar panels."><meta name=author content="Robin Wang"><link rel=canonical href=https://robinwang.github.io/posts/solar-ebike/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.54405a410796490bc874ab6181fac9b675753cc2b91375d8f882566459eca428.css integrity="sha256-VEBaQQeWSQvIdKthgfrJtnV1PMK5E3XY+IJWZFnspCg=" rel="preload stylesheet" as=style><link rel=icon href=https://robinwang.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://robinwang.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://robinwang.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://robinwang.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://robinwang.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://robinwang.github.io/posts/solar-ebike/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Solar Ebike"><meta property="og:description" content="350 watts of light weight solar panels on a custom frame fixed to a trailer providing a significant boost to ebike range and allowing remote drone flying
Table of Contents Overview Shortcomings Initial Specifications Hardware Plan Electrical Enclosure Test Fit Electrical Enclosure CAD Models Electrical Enclosure Complted Hub Motor Modifications Suspension Fork Electrical Plan Simplified Electrical Layout Detailed Electrical Layout Fault Detection Electrical Wiring Finished Build Solar Panels Trailer Circuitry Testing Regen Braking Test Method Solar Trailer Test Method Testing Conclusion Conclusion Gallery Overview This vehicle is a continuation of my E-Cargo bike project and represents a major overhaul of the bike&rsquo;s electrical system in addition to hardware modifications to accomodate solar panels."><meta property="og:type" content="article"><meta property="og:url" content="https://robinwang.github.io/posts/solar-ebike/"><meta property="og:image" content="https://robinwang.github.io/posts/solar-ebike/posts/solar-ebike/20230924_101226.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-06-27T03:24:40+00:00"><meta property="article:modified_time" content="2023-06-27T03:24:40+00:00"><meta property="og:site_name" content="Robin Wang"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://robinwang.github.io/posts/solar-ebike/posts/solar-ebike/20230924_101226.jpg"><meta name=twitter:title content="Solar Ebike"><meta name=twitter:description content="350 watts of light weight solar panels on a custom frame fixed to a trailer providing a significant boost to ebike range and allowing remote drone flying
Table of Contents Overview Shortcomings Initial Specifications Hardware Plan Electrical Enclosure Test Fit Electrical Enclosure CAD Models Electrical Enclosure Complted Hub Motor Modifications Suspension Fork Electrical Plan Simplified Electrical Layout Detailed Electrical Layout Fault Detection Electrical Wiring Finished Build Solar Panels Trailer Circuitry Testing Regen Braking Test Method Solar Trailer Test Method Testing Conclusion Conclusion Gallery Overview This vehicle is a continuation of my E-Cargo bike project and represents a major overhaul of the bike&rsquo;s electrical system in addition to hardware modifications to accomodate solar panels."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://robinwang.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Solar Ebike","item":"https://robinwang.github.io/posts/solar-ebike/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Solar Ebike","name":"Solar Ebike","description":"350 watts of light weight solar panels on a custom frame fixed to a trailer providing a significant boost to ebike range and allowing remote drone flying\nTable of Contents Overview Shortcomings Initial Specifications Hardware Plan Electrical Enclosure Test Fit Electrical Enclosure CAD Models Electrical Enclosure Complted Hub Motor Modifications Suspension Fork Electrical Plan Simplified Electrical Layout Detailed Electrical Layout Fault Detection Electrical Wiring Finished Build Solar Panels Trailer Circuitry Testing Regen Braking Test Method Solar Trailer Test Method Testing Conclusion Conclusion Gallery Overview This vehicle is a continuation of my E-Cargo bike project and represents a major overhaul of the bike\u0026rsquo;s electrical system in addition to hardware modifications to accomodate solar panels.","keywords":[],"articleBody":"350 watts of light weight solar panels on a custom frame fixed to a trailer providing a significant boost to ebike range and allowing remote drone flying\nTable of Contents Overview Shortcomings Initial Specifications Hardware Plan Electrical Enclosure Test Fit Electrical Enclosure CAD Models Electrical Enclosure Complted Hub Motor Modifications Suspension Fork Electrical Plan Simplified Electrical Layout Detailed Electrical Layout Fault Detection Electrical Wiring Finished Build Solar Panels Trailer Circuitry Testing Regen Braking Test Method Solar Trailer Test Method Testing Conclusion Conclusion Gallery Overview This vehicle is a continuation of my E-Cargo bike project and represents a major overhaul of the bike’s electrical system in addition to hardware modifications to accomodate solar panels. With the completion of this project, the bike progresses from an minimum viable product to a robust, field tested system ready for long offgrid excursions.\nShortcomings Bike before major overhaul\rExposed power distribution electronics\rThe current bike, while containing the bare minimum equipment required to transport cargo offroad, lacks many reliability features necessary for sustaining prolonged offroad travel.\nMajor problems were identified in several areas:\nMechanical\nlack of weatherproofing on major electrical components lack of quick accessibility to certain components inside frame excessive braking required to slow vehicle on long descents rigid frame cause uncomfortable ride offroad Electrical\nlack of modularity/upgradability for solar circuitry due to soldered Y-splitter cables not all components fused unclear wiring (rat’s nest) insufficient safety indicator lights Summary: Most shortcomings relate to weatherproofing of electronics as well as cleaning up the general layout with a cleaner, more futureproof electrical layout. Additionally, braking and ride comfort are also areas that need addressing\nInitial Specifications The following requirements were created to address these shortcomings:\nMechanical\nwaterproof enclosures for all electrical components with quick access panels regenerative braking via hub motor suspension fork Electrical\nmodular node based electrical junction PCBs with spare ports fuses on all power ports extra ports for adaptability indicator lights + control unit with cockpit dashboard Hardware Plan Electrical Enclosure Test Fit Cardboard test fit\rCardboard High/Low voltage box\rHigh voltage box strap points\rElectrical Enclosure CAD Models Enclosure Overview\rHigh Voltage Bus Box\rLow Voltage Bus Box top view\rLow Voltage Bus Box bottom view\rVESC Motor Controller Box\rTest fit of electrical enclosure\rElectrical Enclosure Completed High/Low voltage boxes\rVESC Motor Controller Box\rHub Motor Modifications Hub motor installation\rRational: The addition of a hub motor in addition to the middrive motor is rather radical modification only seen on a handful of ebikes anywhere. For the purposes of travelling offroad, a middrive motor is preferable due to it’s ability to transmit power through the bike’s chain and deraileur thus achieving higher torque for hill climbing in lower gear. A hub motor by comparison consumes far more power to achive the same performance. However, in the case of extended offroad touring, this setup offers several unique advantages.\nEmergency Backup: While not normally an issue, a breakdown of the middrive motor would be catastrophic as it potentially leaves the rider stranded with a vehicle too heavy to pedal without assistance. Hub motors by natures are very robust, low maintanence pieces of equipment that do not interface with the rest of the bike’s drivetrain. An additional motor can allow the rider to limp into the nearest service stop unaided.\nRegenerative Braking: The far more utilized feature is definitely regenerative braking. Hub motors are able to capture rotational energy from the wheel thus slowing down the bike and converting that energy into electrical power for the battery. This feature in addition to the hydraulic brakes increase overall braking force and prolongs brake pad life when only using regen braking.\nMotor Selection: The GMAC 10T geared hub motor was selected for its reputability along with light weight construction compared to direct drive hub motors. Geared hub motors usually do not have regen capabilities due to a clutch stopping the motor from spinning when coasting. The GMAC is unique in that it has a locked clutch that keeps the motor spinning when coasting.\nSuspension Fork To improve ride comfort, a suspension for was also added. Electrical Plan Simplified Electrical Layout The electical components can be divided into three primary nodes, forward, middle, and rear. Each node contains its own fused power distribution board (PDB), and is responsible for distributing power from the primary high/low voltage bus bars located in the middle node to their connected components. Furthermore, each node contains its own processor to parse data sent by the central control circuit located in the middle node. This system allows for the reporting of faults as well as software modifications in the event of upgrades.\nDetailed Electrical layout The power pathway starts from the battery where it is sent into the high voltage bus box. This power is goes to the middrive motor controller, hub motor controller, and a 60v to 12v step down located in the low voltage buxs box. This stepped down power is sent to various 12v appliances such as the android auto dahsboard as well as the lighting relay PCB. Relays are controlled by an onboard arduino controlled by switches located in the cockpit. Data is transmitted throughout the bike via dedicated data lines carrying information from the cockpit to the forward, mid, and read nodes as well as vehicle status information back from these nodes.\nFault Detection In order to ensure all systems are operating as intended, the overhaul introduces fused connections, fault detection, and datalogging to the bike. This system divides the bike into several nodes each containing its own microcontroller. When a fault is detected, the microcontroller logs the issue before sending it to the central node which informs the cockpit dashboard of the fault.\nElectrical Wiring Wiring installation\rTest routing of waterproof bulkheads\rFinished Build The finished build is significantly cleaner than before with all wires hidden inside either enclosures or under cable sleeves. With these modifications, the bike should be able to operate in heavy rain and ford water up to the bottom bracket. Maintanence has also been greatly simplified easy to access side panels.\nSolar Panels In order to provide enough power for the bike and camp equipment, 350W of solar panels were mounted to a Burley Coho single wheel trailer. These panels are lightweight and flexible thus requiring the fabrication of custom lightweight aluminum frames. As the panels are stacked on top of each other during motion, only one can be used when riding.\nTrailer Solar trailer\rwelded trailer hitch\rFull Length\rCircuitry Power from the panels are fed through an Elejoy maximum power point tracking (MPPT) solar charge controller which boosts the voltage required by the main battery. Each panel supplies power at roughly 20 volts thus with both panels in series the step up to battery voltage is minimized. This system is able to be wired in parallel with the main battery and motor due to the battery’s common port battery management system (BMS).\nMPPT solar charge controller\rTesting Testing was conducted on several trip culminating with an offroad overnight trip at Mission Trails regional park. The goal of these tests were to validate the bike’s ability to increase range through regen braking and solar power. Additionally, these tests test the bike’s various hardware modifications to ensure reliability under harsh conditions.\nRegen Braking Test Method The bike with no cargo will ride down a predefined path featuring various terrain and elevation changes. In order to maintain consistency between tests, the rider will not be pedaling. Instead, the middrive throttle is used to keep the bike at a consistent speed. The same 52V 17.5ah li-ion battery is used between tests. Gear changes are allowed and are kept consistent between tests. These tests were conducted three times and results averaged.\nTest Name Test Description Results Control The bike is ridden through the route with only conventional disk braking. ~25 miles on one charge. Regen The bike is ridden through the route with priority given to regen braking. If regen braking is not enough to come to a safe stop, disk brakes are added to the braking force. ~28 miles on one charge. Solar Trailer Test Method The bike with trailer and no cargo will ride down a predefined path featuring various terrain and elevation changes. In order to maintain consistency between tests, the rider will not be pedaling. Instead, the middrive throttle is used to keep the bike at a consistent speed. The same 52V 17.5ah li-ion battery is used between tests. Gear changes are allowed and are kept consistent between tests. Tests are conducted on summer days with no cloud forecast and ambient air temperature over 65 degrees fahrenheit. These tests were conducted three times and results averaged.\nTest Name Test Description Results Control The bike is ridden through the route with only conventional disk braking. ~25 miles on one charge. Solar The bike towing the solar trailer is ridden through the route with only conventional disk braking. ~21 miles on one charge Testing Conclusion The bike was able to haul the trailer along with camping gear through a variety of terrain including singletrack mountain bike trails. Overall, independently testing the regen motor shows an average 12% increase in range. The solar trailer decreases range by approximately 16%. It is important to note that the trailer allows for the full recharging of a battery in approximately four hours thus achieving the overall goal of independent offgrid operation.\nTesting in downtown San Diego\rTesting in downtown San Diego 2\rTesting at Mission Trails\rTesting at Mission Trails 2\rConclusion Overall, I was able to achieve what I set out to do. The solar panels succeeded in decreasing my dependence on grid charging and has proven itself capable of handling the harsh offroad terrain. The bike itself has also proven itself to be a reliable vehicle with over 1000 miles logged after this upgrade. This was a great learning experience in designing a distributed system for transfering power and data throughout a vehicle. I have several future upgrades in mind but that’s for next time.\nGallery Wacky Cargo carrying the fuselage of a Skywalker Titan UAV\rhauling 2 TVs back from university surplus store\rhauling 2 3D printed catamaran USV hull\rBikepacking Trips 100+ mile trip on Catalina Island\rbike on ferry to catalina\rbike on amtrak to ferry\rsouthern mountains of Catalina\rsteep hill climbs (1.4k ft within 3 miles)\rParson's landing - Northernmost camp on Catalina\rTrip route and elevation map\rAscending mountain to Cleveland National Forest\rAscending mountain to Cleveland National Forest\rbike cockpit with power meter, android auto, garmin gps, and a towel for my face\rriding along historical route 80\rarrived at campsite\rnight in the wilderness\rnight in the wilderness\rnight in the wilderness\r","wordCount":"1784","inLanguage":"en","image":"https://robinwang.github.io/posts/solar-ebike/posts/solar-ebike/20230924_101226.jpg","datePublished":"2023-06-27T03:24:40Z","dateModified":"2023-06-27T03:24:40Z","author":{"@type":"Person","name":"Robin Wang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://robinwang.github.io/posts/solar-ebike/"},"publisher":{"@type":"Organization","name":"Robin Wang","logo":{"@type":"ImageObject","url":"https://robinwang.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://robinwang.github.io/ accesskey=h title="Home (Alt + H)"><img src=https://robinwang.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://robinwang.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://robinwang.github.io/about/ title=about><span>about</span></a></li><li><a href=https://github.com/Potato011/portfolio/blob/main/Portfolio.pdf title=Portfolio><span>Portfolio</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://github.com/Potato011/resume/blob/main/Robin_Wang_Resume%281302024%29.pdf title=Resume><span>Resume</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://robinwang.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://robinwang.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Solar Ebike</h1><div class=post-meta><span title='2023-06-27 03:24:40 +0000 UTC'>June 27, 2023</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;1784 words&nbsp;·&nbsp;Robin Wang&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/solar-ebike.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=eager src=https://robinwang.github.io/posts/solar-ebike/20230924_101226.jpg alt="solarbike cover"></figure><div class=post-content><p>350 watts of light weight solar panels on a custom frame fixed to a trailer providing a significant boost to ebike range and allowing remote drone flying</p><h2 id=table-of-contents>Table of Contents<a hidden class=anchor aria-hidden=true href=#table-of-contents>#</a></h2><ul><li><a href=#overview>Overview</a></li><li><a href=#shortcomings>Shortcomings</a></li><li><a href=#initial-specifications>Initial Specifications</a></li><li><a href=#hardware-plan>Hardware Plan</a><ul><li><a href=#electrical-enclosure-test-fit>Electrical Enclosure Test Fit</a></li><li><a href=#electrical-enclosure-cad-models>Electrical Enclosure CAD Models</a></li><li><a href=#electrical-enclosure-completed>Electrical Enclosure Complted</a></li><li><a href=#hub-motor-modifications>Hub Motor Modifications</a></li><li><a href=#suspension-fork>Suspension Fork</a></li></ul></li><li><a href=#electrical-plan>Electrical Plan</a><ul><li><a href=#simplified-electrical-layout>Simplified Electrical Layout</a></li><li><a href=#detailed-electrical-layout>Detailed Electrical Layout</a></li><li><a href=#fault-detection>Fault Detection</a></li><li><a href=#electrical-wiring>Electrical Wiring</a></li></ul></li><li><a href=#finished-build>Finished Build</a></li><li><a href=#solar-panels>Solar Panels</a><ul><li><a href=#trailer>Trailer</a></li><li><a href=#circuitry>Circuitry</a></li></ul></li><li><a href=#testing>Testing</a><ul><li><a href=#regen-braking-test-method>Regen Braking Test Method</a></li><li><a href=#solar-trailer-test-method>Solar Trailer Test Method</a></li><li><a href=#testing-conclusion>Testing Conclusion</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#gallery>Gallery</a></li></ul><h1 id=overview>Overview<a hidden class=anchor aria-hidden=true href=#overview>#</a></h1><p>This vehicle is a continuation of my E-Cargo bike project and represents a major overhaul of the bike&rsquo;s electrical system in addition to hardware modifications to accomodate solar panels. With the completion of this project, the bike progresses from an minimum viable product to a robust, field tested system ready for long offgrid excursions.</p><p><img loading=lazy src=bike_features.png alt="Complete Feature Diagram"></p><h1 id=shortcomings>Shortcomings<a hidden class=anchor aria-hidden=true href=#shortcomings>#</a></h1><p><figure><img loading=lazy src=before.jpg><figcaption>Bike before major overhaul</figcaption></figure><figure><img loading=lazy src=beforeElectricals.jpg><figcaption>Exposed power distribution electronics</figcaption></figure></p><p>The current bike, while containing the bare minimum equipment required to transport cargo offroad, lacks many reliability features necessary for sustaining prolonged offroad travel.</p><p>Major problems were identified in several areas:</p><ul><li><p>Mechanical</p><ul><li>lack of weatherproofing on major electrical components</li><li>lack of quick accessibility to certain components inside frame</li><li>excessive braking required to slow vehicle on long descents</li><li>rigid frame cause uncomfortable ride offroad</li></ul></li><li><p>Electrical</p><ul><li>lack of modularity/upgradability for solar circuitry due to soldered Y-splitter cables</li><li>not all components fused</li><li>unclear wiring (rat&rsquo;s nest)</li><li>insufficient safety indicator lights</li></ul></li></ul><p><strong>Summary:</strong> Most shortcomings relate to weatherproofing of electronics as well as cleaning up the general layout with a cleaner, more futureproof electrical layout. Additionally, braking and ride comfort are also areas that need addressing</p><h1 id=initial-specifications>Initial Specifications<a hidden class=anchor aria-hidden=true href=#initial-specifications>#</a></h1><p>The following requirements were created to address these shortcomings:</p><ul><li><p>Mechanical</p><ul><li>waterproof enclosures for all electrical components with quick access panels</li><li>regenerative braking via hub motor</li><li>suspension fork</li></ul></li><li><p>Electrical</p><ul><li>modular node based electrical junction PCBs with spare ports</li><li>fuses on all power ports</li><li>extra ports for adaptability</li><li>indicator lights + control unit with cockpit dashboard</li></ul></li></ul><h1 id=hardware-plan>Hardware Plan<a hidden class=anchor aria-hidden=true href=#hardware-plan>#</a></h1><h2 id=electrical-enclosure-test-fit>Electrical Enclosure Test Fit<a hidden class=anchor aria-hidden=true href=#electrical-enclosure-test-fit>#</a></h2><p><figure><img loading=lazy src=cardboard1.jpg><figcaption>Cardboard test fit</figcaption></figure><figure><img loading=lazy src=cardboard3.jpg><figcaption>Cardboard High/Low voltage box</figcaption></figure><figure><img loading=lazy src=cardboard4.jpg><figcaption>High voltage box strap points</figcaption></figure></p><h2 id=electrical-enclosure-cad-models>Electrical Enclosure CAD Models<a hidden class=anchor aria-hidden=true href=#electrical-enclosure-cad-models>#</a></h2><p><figure><img loading=lazy src=cadoverview.png><figcaption>Enclosure Overview</figcaption></figure><figure><img loading=lazy src=cad3.png><figcaption>High Voltage Bus Box</figcaption></figure><figure><img loading=lazy src=cad2.png><figcaption>Low Voltage Bus Box top view</figcaption></figure><figure><img loading=lazy src=cad1.png><figcaption>Low Voltage Bus Box bottom view</figcaption></figure><figure><img loading=lazy src=cad4.png><figcaption>VESC Motor Controller Box</figcaption></figure><figure><img loading=lazy src=testFit.jpg><figcaption>Test fit of electrical enclosure</figcaption></figure></p><h2 id=electrical-enclosure-completed>Electrical Enclosure Completed<a hidden class=anchor aria-hidden=true href=#electrical-enclosure-completed>#</a></h2><p><figure><img loading=lazy src=panels.png><figcaption>High/Low voltage boxes</figcaption></figure><figure><img loading=lazy src=vescbox.jpg><figcaption>VESC Motor Controller Box</figcaption></figure></p><h2 id=hub-motor-modifications>Hub Motor Modifications<a hidden class=anchor aria-hidden=true href=#hub-motor-modifications>#</a></h2><p><figure><img loading=lazy src=hub1.jpg><figcaption>Hub motor installation</figcaption></figure><img loading=lazy src=hub_install.jpg alt="Hub Motor Install"></p><p><strong>Rational:</strong> The addition of a hub motor in addition to the middrive motor is rather radical modification only seen on a handful of ebikes anywhere. For the purposes of travelling offroad, a middrive motor is preferable due to it&rsquo;s ability to transmit power through the bike&rsquo;s chain and deraileur thus achieving higher torque for hill climbing in lower gear. A hub motor by comparison consumes far more power to achive the same performance. However, in the case of extended offroad touring, this setup offers several unique advantages.</p><p><strong>Emergency Backup:</strong> While not normally an issue, a breakdown of the middrive motor would be catastrophic as it potentially leaves the rider stranded with a vehicle too heavy to pedal without assistance. Hub motors by natures are very robust, low maintanence pieces of equipment that do not interface with the rest of the bike&rsquo;s drivetrain. An additional motor can allow the rider to limp into the nearest service stop unaided.</p><p><strong>Regenerative Braking:</strong> The far more utilized feature is definitely regenerative braking. Hub motors are able to capture rotational energy from the wheel thus slowing down the bike and converting that energy into electrical power for the battery. This feature in addition to the hydraulic brakes increase overall braking force and prolongs brake pad life when only using regen braking.</p><p><strong>Motor Selection:</strong> The GMAC 10T geared hub motor was selected for its reputability along with light weight construction compared to direct drive hub motors. Geared hub motors usually do not have regen capabilities due to a clutch stopping the motor from spinning when coasting. The GMAC is unique in that it has a locked clutch that keeps the motor spinning when coasting.</p><p><img loading=lazy src=gmac10t.jpg alt=GMAC></p><h2 id=suspension-fork>Suspension Fork<a hidden class=anchor aria-hidden=true href=#suspension-fork>#</a></h2><p>To improve ride comfort, a suspension for was also added.
<img loading=lazy src=fork.jpg alt="Suspension Fork"></p><h1 id=electrical-plan>Electrical Plan<a hidden class=anchor aria-hidden=true href=#electrical-plan>#</a></h1><h2 id=simplified-electrical-layout>Simplified Electrical Layout<a hidden class=anchor aria-hidden=true href=#simplified-electrical-layout>#</a></h2><p><img loading=lazy src=simplified_diagram.png alt="Simplified Electrical Diagram"></p><p>The electical components can be divided into three primary nodes, forward, middle, and rear. Each node contains its own fused power distribution board (PDB), and is responsible for distributing power from the primary high/low voltage bus bars located in the middle node to their connected components. Furthermore, each node contains its own processor to parse data sent by the central control circuit located in the middle node. This system allows for the reporting of faults as well as software modifications in the event of upgrades.</p><h2 id=detailed-electrical-layout>Detailed Electrical layout<a hidden class=anchor aria-hidden=true href=#detailed-electrical-layout>#</a></h2><p><img loading=lazy src=detailed_diagram.png alt="Detailed Electrical Diagram"></p><p>The power pathway starts from the battery where it is sent into the high voltage bus box. This power is goes to the middrive motor controller, hub motor controller, and a 60v to 12v step down located in the low voltage buxs box. This stepped down power is sent to various 12v appliances such as the android auto dahsboard as well as the lighting relay PCB. Relays are controlled by an onboard arduino controlled by switches located in the cockpit. Data is transmitted throughout the bike via dedicated data lines carrying information from the cockpit to the forward, mid, and read nodes as well as vehicle status information back from these nodes.</p><h2 id=fault-detection>Fault Detection<a hidden class=anchor aria-hidden=true href=#fault-detection>#</a></h2><p>In order to ensure all systems are operating as intended, the overhaul introduces fused connections, fault detection, and datalogging to the bike. This system divides the bike into several nodes each containing its own microcontroller. When a fault is detected, the microcontroller logs the issue before sending it to the central node which informs the cockpit dashboard of the fault.</p><p><img loading=lazy src=circuit.png alt="Fault Detection Circuit"></p><h2 id=electrical-wiring>Electrical Wiring<a hidden class=anchor aria-hidden=true href=#electrical-wiring>#</a></h2><p><figure><img loading=lazy src=wiring.jpg><figcaption>Wiring installation</figcaption></figure><figure><img loading=lazy src=testwiring.jpg><figcaption>Test routing of waterproof bulkheads</figcaption></figure></p><h1 id=finished-build>Finished Build<a hidden class=anchor aria-hidden=true href=#finished-build>#</a></h1><p><img loading=lazy src=finished.jpg alt="bike build"></p><p>The finished build is significantly cleaner than before with all wires hidden inside either enclosures or under cable sleeves. With these modifications, the bike should be able to operate in heavy rain and ford water up to the bottom bracket. Maintanence has also been greatly simplified easy to access side panels.</p><h1 id=solar-panels>Solar Panels<a hidden class=anchor aria-hidden=true href=#solar-panels>#</a></h1><p>In order to provide enough power for the bike and camp equipment, 350W of solar panels were mounted to a Burley Coho single wheel trailer. These panels are lightweight and flexible thus requiring the fabrication of custom lightweight aluminum frames. As the panels are stacked on top of each other during motion, only one can be used when riding.</p><h2 id=trailer>Trailer<a hidden class=anchor aria-hidden=true href=#trailer>#</a></h2><p><figure><img loading=lazy src=trailer.jpg><figcaption>Solar trailer</figcaption></figure><figure><img loading=lazy src=hitch.jpg><figcaption>welded trailer hitch</figcaption></figure><figure><img loading=lazy src=fullLength.jpg><figcaption>Full Length</figcaption></figure></p><h2 id=circuitry>Circuitry<a hidden class=anchor aria-hidden=true href=#circuitry>#</a></h2><p>Power from the panels are fed through an Elejoy maximum power point tracking (MPPT) solar charge controller which boosts the voltage required by the main battery. Each panel supplies power at roughly 20 volts thus with both panels in series the step up to battery voltage is minimized. This system is able to be wired in parallel with the main battery and motor due to the battery&rsquo;s common port battery management system (BMS).</p><figure><img loading=lazy src=mppt.jpg><figcaption>MPPT solar charge controller</figcaption></figure><h1 id=testing>Testing<a hidden class=anchor aria-hidden=true href=#testing>#</a></h1><p>Testing was conducted on several trip culminating with an offroad overnight trip at Mission Trails regional park. The goal of these tests were to validate the bike&rsquo;s ability to increase range through regen braking and solar power. Additionally, these tests test the bike&rsquo;s various hardware modifications to ensure reliability under harsh conditions.</p><h2 id=regen-braking-test-method>Regen Braking Test Method<a hidden class=anchor aria-hidden=true href=#regen-braking-test-method>#</a></h2><p>The bike with no cargo will ride down a predefined path featuring various terrain and elevation changes. In order to maintain consistency between tests, the rider will not be pedaling. Instead, the middrive throttle is used to keep the bike at a consistent speed. The same 52V 17.5ah li-ion battery is used between tests. Gear changes are allowed and are kept consistent between tests. These tests were conducted three times and results averaged.</p><table><thead><tr><th>Test Name</th><th>Test Description</th><th>Results</th></tr></thead><tbody><tr><td>Control</td><td>The bike is ridden through the route with only conventional disk braking.</td><td>~25 miles on one charge.</td></tr><tr><td>Regen</td><td>The bike is ridden through the route with priority given to regen braking. If regen braking is not enough to come to a safe stop, disk brakes are added to the braking force.</td><td>~28 miles on one charge.</td></tr></tbody></table><h2 id=solar-trailer-test-method>Solar Trailer Test Method<a hidden class=anchor aria-hidden=true href=#solar-trailer-test-method>#</a></h2><p>The bike with trailer and no cargo will ride down a predefined path featuring various terrain and elevation changes. In order to maintain consistency between tests, the rider will not be pedaling. Instead, the middrive throttle is used to keep the bike at a consistent speed. The same 52V 17.5ah li-ion battery is used between tests. Gear changes are allowed and are kept consistent between tests. Tests are conducted on summer days with no cloud forecast and ambient air temperature over 65 degrees fahrenheit. These tests were conducted three times and results averaged.</p><table><thead><tr><th>Test Name</th><th>Test Description</th><th>Results</th></tr></thead><tbody><tr><td>Control</td><td>The bike is ridden through the route with only conventional disk braking.</td><td>~25 miles on one charge.</td></tr><tr><td>Solar</td><td>The bike towing the solar trailer is ridden through the route with only conventional disk braking.</td><td>~21 miles on one charge</td></tr></tbody></table><h2 id=testing-conclusion>Testing Conclusion<a hidden class=anchor aria-hidden=true href=#testing-conclusion>#</a></h2><p>The bike was able to haul the trailer along with camping gear through a variety of terrain including singletrack mountain bike trails. Overall, independently testing the regen motor shows an average 12% increase in range. The solar trailer decreases range by approximately 16%. It is important to note that the trailer allows for the full recharging of a battery in approximately four hours thus achieving the overall goal of independent offgrid operation.</p><p><figure><img loading=lazy src=side_view.jpg><figcaption>Testing in downtown San Diego</figcaption></figure><figure><img loading=lazy src=panels_deployed.jpg><figcaption>Testing in downtown San Diego 2</figcaption></figure><figure><img loading=lazy src=offroad1.jpg><figcaption>Testing at Mission Trails</figcaption></figure><figure><img loading=lazy src=offroad2.jpg><figcaption>Testing at Mission Trails 2</figcaption></figure></p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube.com/embed/lTySmGHRum0?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div><h1 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h1><p>Overall, I was able to achieve what I set out to do. The solar panels succeeded in decreasing my dependence on grid charging and has proven itself capable of handling the harsh offroad terrain. The bike itself has also proven itself to be a reliable vehicle with over 1000 miles logged after this upgrade. This was a great learning experience in designing a distributed system for transfering power and data throughout a vehicle. I have several future upgrades in mind but that&rsquo;s for next time.</p><h1 id=gallery>Gallery<a hidden class=anchor aria-hidden=true href=#gallery>#</a></h1><h2 id=wacky-cargo>Wacky Cargo<a hidden class=anchor aria-hidden=true href=#wacky-cargo>#</a></h2><p><figure><img loading=lazy src=bikeTitan.jpg><figcaption>carrying the fuselage of a Skywalker Titan UAV</figcaption></figure><figure><img loading=lazy src=bikeTV.jpg><figcaption>hauling 2 TVs back from university surplus store</figcaption></figure><figure><img loading=lazy src=bikeBoat.jpg><figcaption>hauling 2 3D printed catamaran USV hull</figcaption></figure></p><h2 id=bikepacking-trips>Bikepacking Trips<a hidden class=anchor aria-hidden=true href=#bikepacking-trips>#</a></h2><p><figure><img loading=lazy src=catalina.jpg><figcaption>100+ mile trip on Catalina Island</figcaption></figure><figure><img loading=lazy src=ferry.jpg><figcaption>bike on ferry to catalina</figcaption></figure><figure><img loading=lazy src=amtrak.jpg><figcaption>bike on amtrak to ferry</figcaption></figure><figure><img loading=lazy src=terrain.jpg><figcaption>southern mountains of Catalina</figcaption></figure><figure><img loading=lazy src=terrain2.jpg><figcaption>steep hill climbs (1.4k ft within 3 miles)</figcaption></figure><figure><img loading=lazy src=parsons.jpg><figcaption>Parson's landing - Northernmost camp on Catalina</figcaption></figure><figure><img loading=lazy src=catalinaMap.png><figcaption>Trip route and elevation map</figcaption></figure></p><p><figure><img loading=lazy src=bikepack1.jpg><figcaption>Ascending mountain to Cleveland National Forest</figcaption></figure><figure><img loading=lazy src=hill.jpg><figcaption>Ascending mountain to Cleveland National Forest</figcaption></figure><figure><img loading=lazy src=cockpit.jpg><figcaption>bike cockpit with power meter, android auto, garmin gps, and a towel for my face</figcaption></figure><figure><img loading=lazy src=route80.jpg><figcaption>riding along historical route 80</figcaption></figure><figure><img loading=lazy src=camp1.jpg><figcaption>arrived at campsite</figcaption></figure><figure><img loading=lazy src=camp.jpg><figcaption>night in the wilderness</figcaption></figure><img loading=lazy src=stars2.jpg alt=Stars>
<img loading=lazy src=stars3.jpg alt=Stars>
<img loading=lazy src=stars4.jpg alt=Stars>
<img loading=lazy src=stars5.jpg alt=Stars>
<img loading=lazy src=stars6.jpg alt=Stars>
<img loading=lazy src=stars7.jpg alt=Stars></p><p><figure><img loading=lazy src=night2.jpg><figcaption>night in the wilderness</figcaption></figure><figure><img loading=lazy src=night3.jpg><figcaption>night in the wilderness</figcaption></figure></p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://robinwang.github.io/posts/cyber-deck/><span class=title>« Prev</span><br><span>All in One Drone Control Terminal (Cyberdeck)</span>
</a><a class=next href=https://robinwang.github.io/posts/skywalker-titan/><span class=title>Next »</span><br><span>High Payload Fixed Wing Testbed</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Solar Ebike on x" href="https://x.com/intent/tweet/?text=Solar%20Ebike&amp;url=https%3a%2f%2frobinwang.github.io%2fposts%2fsolar-ebike%2f&amp;hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Solar Ebike on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2frobinwang.github.io%2fposts%2fsolar-ebike%2f&amp;title=Solar%20Ebike&amp;summary=Solar%20Ebike&amp;source=https%3a%2f%2frobinwang.github.io%2fposts%2fsolar-ebike%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Solar Ebike on reddit" href="https://reddit.com/submit?url=https%3a%2f%2frobinwang.github.io%2fposts%2fsolar-ebike%2f&title=Solar%20Ebike"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Solar Ebike on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2frobinwang.github.io%2fposts%2fsolar-ebike%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Solar Ebike on whatsapp" href="https://api.whatsapp.com/send?text=Solar%20Ebike%20-%20https%3a%2f%2frobinwang.github.io%2fposts%2fsolar-ebike%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Solar Ebike on telegram" href="https://telegram.me/share/url?text=Solar%20Ebike&amp;url=https%3a%2f%2frobinwang.github.io%2fposts%2fsolar-ebike%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Solar Ebike on ycombinator" href="https://news.ycombinator.com/submitlink?t=Solar%20Ebike&u=https%3a%2f%2frobinwang.github.io%2fposts%2fsolar-ebike%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://robinwang.github.io/>Robin Wang</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>